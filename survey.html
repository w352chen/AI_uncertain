<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCQ Survey</title>
    <style>
        body {
            font-size: 1.5em;
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 20px;
        }
        .question {
            margin-bottom: 30px;
        }
        .choices {
            list-style-type: none;
            padding: 0;
            display: flex; /* Makes the options horizontal */
            gap: 15px; /* Space between options */
        }
        .choices li {
            margin: 0;
        }
        label {
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="question">
        <h4>How much do you trust the AI’s response based on the text?
            <br>(1 = No at all, 2 = Slightly, 3 = Moderately, 4 = Very much, 5 = Completely)</h4>
        <ul class="choices">
            <li><label><input type="radio" name="ai_trust" value="1"> 1</label></li>
            <li><label><input type="radio" name="ai_trust" value="2"> 2</label></li>
            <li><label><input type="radio" name="ai_trust" value="3"> 3</label></li>
            <li><label><input type="radio" name="ai_trust" value="4"> 4</label></li>
            <li><label><input type="radio" name="ai_trust" value="5"> 5</label></li>
        </ul>
    </div>

    <div class="question">
        <h4>Without reading the content of the AI's response, how would you rate the level of certainty communicated by the visual design?
            </h4>
        <ul class="choices">
            <li><label><input type="radio" name="ai_uncertainty" value="Low certainty"> Low certainty</label></li>
            <li><label><input type="radio" name="ai_uncertainty" value="medium certainty"> Medium certainty</label></li>
            <li><label><input type="radio" name="ai_uncertainty" value="high certainty"> High cerntainty</label></li>
            <li><label><input type="radio" name="ai_uncertainty" value="not sure"> Not sure</label></li>
        </ul>
    </div>

    <div class="question">
        <h4>Does this visual design increase or decrease your confidence in the AI’s ability?
            </h4>
        <ul class="choices">
            <li><label><input type="radio" name="ai_confidence" value="increase"> Increase</label></li>
            <li><label><input type="radio" name="ai_confidence" value="decrease"> Decrease</label></li>
            <li><label><input type="radio" name="ai_confidence" value="no change"> No change</label></li>
            </ul>
    </div>

    <div class="question">
        <h4>On a scale from 1 to 5, How clear and easy to interpret is the visual design?
            <br>(1 = Very unclear, 2 = Somewhat unclear, 3 = Neutral, 4 = Clear, 5 = Very clear)</h4>
        <ul class="choices">
            <li><label><input type="radio" name="ai_visualization_clarity" value="1"> 1</label></li>
            <li><label><input type="radio" name="ai_visualization_clarity" value="2"> 2</label></li>
            <li><label><input type="radio" name="ai_visualization_clarity" value="3"> 3</label></li>
            <li><label><input type="radio" name="ai_visualization_clarity" value="4"> 4</label></li>
            <li><label><input type="radio" name="ai_visualization_clarity" value="5"> 5</label></li>
        </ul>
    </div>


    <script>
        window.surveySubmitted = false;
        
        function checkAndSubmitSurvey() {
            const responses = {};

            const aiUncertainty = document.querySelector('input[name="ai_uncertainty"]:checked');
            const aiTrust = document.querySelector('input[name="ai_trust"]:checked');
            const aiConfidence = document.querySelector('input[name="ai_confidence"]:checked');
            const aiVisualizationClarity = document.querySelector('input[name="ai_visualization_clarity"]:checked');


            if (!(aiUncertainty && aiTrust && aiConfidence && aiVisualizationClarity && aiEngagement)) {
                return; // Wait until all are answered
            }

            responses.ai_uncertainty = aiUncertainty.value;
            responses.ai_trust = aiTrust.value;
            responses.ai_confidence = aiConfidence.value;
            responses.ai_visualization_clarity = aiVisualizationClarity.value;
            
            // Send the responses back to the parent page (index.html)
            window.parent.postMessage({
                surveyResponses: responses
            }, "*");

            // Prevent sending multiple times
            window.surveySubmitted = true;
        }

        // Listen for changes and try to submit if all questions are answered
        document.addEventListener('change', function() {
            if (!window.surveySubmitted) {
                checkAndSubmitSurvey();
            }
        });
    </script>

</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MCQ Survey</title>
  <style>
    body {
      font-size: 1.5em;
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 20px;
    }
    .question {
      margin-bottom: 30px;
    }
    .choices {
      list-style-type: none;
      padding: 0;
      display: flex;
      gap: 15px;
    }
    .choices li {
      margin: 0;
    }
    label {
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="question">
    <h4>How much do you trust the AI’s response based on the text?<br>(1 = No at all, 2 = Slightly, 3 = Moderately, 4 = Very much, 5 = Completely)</h4>
    <ul class="choices">
      <li><label><input type="radio" name="ai_trust" value="1"> 1</label></li>
      <li><label><input type="radio" name="ai_trust" value="2"> 2</label></li>
      <li><label><input type="radio" name="ai_trust" value="3"> 3</label></li>
      <li><label><input type="radio" name="ai_trust" value="4"> 4</label></li>
      <li><label><input type="radio" name="ai_trust" value="5"> 5</label></li>
    </ul>
  </div>

  <div class="question">
    <h4>Without reading the content of the AI's response, how would you rate the level of certainty communicated by the visual design?<br>(0 = Not sure, 1 = Low, 2 = Medium, 3 = High)</h4>
    <ul class="choices">
      <li><label><input type="radio" name="ai_uncertainty" value="1"> 0</label></li>
      <li><label><input type="radio" name="ai_uncertainty" value="1"> 1</label></li>
      <li><label><input type="radio" name="ai_uncertainty" value="1"> 2</label></li>
      <li><label><input type="radio" name="ai_uncertainty" value="1"> 3</label></li>
    </ul>
  </div>

  <div class="question">
    <h4>Does this visual design increase or decrease your confidence in the AI’s ability?</h4>
    <ul class="choices">
      <li><label><input type="radio" name="ai_confidence" value="Increase"> Increase</label></li>
      <li><label><input type="radio" name="ai_confidence" value="Decrease"> Decrease</label></li>
      <li><label><input type="radio" name="ai_confidence" value="No change"> No change</label></li>
    </ul>
  </div>

  <div class="question">
    <h4>On a scale from 1 to 5, how clear and easy to interpret is the visual design?<br>(1 = Very unclear, 2 = Somewhat unclear, 3 = Neutral, 4 = Clear, 5 = Very clear)</h4>
    <ul class="choices">
      <li><label><input type="radio" name="ai_visualization_clarity" value="1"> 1</label></li>
      <li><label><input type="radio" name="ai_visualization_clarity" value="2"> 2</label></li>
      <li><label><input type="radio" name="ai_visualization_clarity" value="3"> 3</label></li>
      <li><label><input type="radio" name="ai_visualization_clarity" value="4"> 4</label></li>
      <li><label><input type="radio" name="ai_visualization_clarity" value="5"> 5</label></li>
    </ul>
  </div>

  <script>
    window.surveySubmitted = false;

    function checkAndSubmitSurvey() {
      const responses = {};

      const aiUncertainty = document.querySelector('input[name="ai_uncertainty"]:checked');
      const aiTrust = document.querySelector('input[name="ai_trust"]:checked');
      const aiConfidence = document.querySelector('input[name="ai_confidence"]:checked');
      const aiClarity = document.querySelector('input[name="ai_visualization_clarity"]:checked');

      if (!(aiUncertainty && aiTrust && aiConfidence && aiClarity)) {
        return; // Wait until all are answered
      }

      responses.ai_uncertainty = aiUncertainty.value;
      responses.ai_trust = aiTrust.value;
      responses.ai_confidence = aiConfidence.value;
      responses.ai_visualization_clarity = aiClarity.value;

      window.parent.postMessage({ surveyResponses: responses }, "*");
      window.surveySubmitted = true;
    }

    document.addEventListener("change", () => {
      if (!window.surveySubmitted) {
        checkAndSubmitSurvey();
      }
    });
  </script>
</body>
</html>

